FLAGSET.CPX
Der Programm-Flagsetter als CPX-Modul.
Oktober 1992


Was ist ein CPX-Modul?
CPX-Module sind nachladbare Utilities fÅr das 'neue' Kontrollfeld von
Atari (XCONTROL.ACC). Sie kînnen jederzeit nachgeladen werden, und sind
Åber die MenÅleiste jederzeit einsetzbar, zumindest in sauberen GEM-
Programmen - aber wer benutzt denn schon was anderes?


Was ist ein Flag?
Ein Flag ist in der Regel ein Schalter, der meistens durch ein einziges
Bit ausgedrÅckt wird.


Was ist ein Flagsetter?
Mit einem Flagsetter kann man spezielle Flags gezielt verÑndern.


Was sind Programm-Flags?
Atari hat im Programm-Header (Das sind die ersten 28 Bytes eines
Programmes.) einige Flags eingebaut, die die Speicherbenutzung des
Programmes definieren:

Fast-Load-Bit: Bei gesetztem Status wird beim Laden des Programmes nur
               der Speicher fÅr das BSS gelîscht. Hier liegen die
               globalen Variablen.

ins Fast-Ram laden: Das Programm wird ins Fast-Ram geladen. s.u.

Speicher aus dem Fast-Ram: Bei dem GEMDOS-Aufruf malloc() bekommt das
                           Programm immer Speicherbereiche aus dem Fast-
                           Ram (s.u.). Andererseits muû der Programmierer
                           die Funktion mxalloc() benutzten.

TPA-Grîûenfeld: Hier gibt man an, wie groû der vom Programm belegte
                Speicher ist. So weiû das Betriebsystem wieviel Speicher
                benîtigt wird, und kann frei entscheiden ob normales oder
                Fast-RAM vergeben werden muû!


Was ist Fast-Ram?
Der normale ST mit seinem 68000er kann wegen seinem nur 24 Bit breiten
Adressbus lediglich 16 MByte RAM verwalten. Bei der Entwicklung des TT
wurde deshalb eine zweite RAM-Art eingebaut, das Fast-RAM. Dies wurde
norwendig, weil man fÅr bestimmte Anwendungen wesentlich mehr Speicher
benîtigt (z.B. Farbbildverarbeitung mit 24 Bit Farbtiefe). Der MC68030
und seine PMMU kînnen Åbrigens ganze 4 GIGA Byte ansprechen! Das Fast-RAM
ist nur etwas schneller als das normale ST-RAM, kann aber nicht von jedem
Hardware-Baustein angesprochen werden. Es ist dem DMA- und dem Video-Chip
vîllig fremd!


Wie bediene ich nun den Flagsetter?
Ganz einfach: Wie ein normales CPX-Modul einladen und îffnen. Durch
einen Klick auf den 'Lesen'-Button erscheint eine Dateiauswahlbox, in der
man das entsprechende Programm auswÑhlen kann. Die schon gesetzten Flags
werden eingetragen und kînnen beliebig geÑndert werden. Mit dem
'schreiben'-Button Ñndert Ihr das zuletzt ausgewÑhlte Programm um.


Welche Dateien kînnen verÑndert werden?
Die ganz normalen Programm-Dateien mit den Extensionen:
PRG, TOS, TTP, GTP, APP, ACC, ACX
und natÅrlich auch CPX-Modul-Dateien:
CPX, CPZ.


Was muû ich sonst noch wissen?
Dieser Flagsetter ist Public Domain und wurde von Volker Hemsen
geschrieben! Das Programm darf und soll kopiert und weitergegeben werden.


Also, bis dann.

Euer Volker.

