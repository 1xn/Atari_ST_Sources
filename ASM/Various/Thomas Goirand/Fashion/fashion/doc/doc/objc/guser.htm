<HTML>
<HEAD>
<TITLE>
FASHION/Les objets un par un/G_USERDEF
</TITLE>
</HEAD>
<body>
<CENTER><H1>G_USERDEF</H1></CENTER>
<br>
<IMG SRC="guserdef.gif" ALT="" ALIGN=RIGHT>
Les USERDEF (aussi appel&eacute; PROGDEF) sont des objets dont la fonction
de dessin est laiss&eacute; &agrave; la discr&eacute;tion du programmeur.
L'ob_spec pointe sur une structure un peu sp&eacute;ciale qui contient elle
m&ecirc;me deux pointeurs :<br><br>

<font size=-1><pre>
typedef struct userdef_bloc {
	param_bloc	*params;	// pointeur sur la structure de param&egrave;tres
	void		*routine;	// pointeur sur la fonction de redraw
}</pre></font><br><br>

Il est fortement conseill&eacute; d'utiliser la VDI pour cr&eacute;er
le dessin de l'objet, sans quoi il est fort probable que votre fonction
ne marchera pas dans toutes les r&eacute;solutions &eacute;cran.<br><br>

Le bloc de param&egrave;tres est d&eacute;fini comme il suit, et est
remplis par l'AES lors de l'appel … la routine de redraw :

<font size=-1><pre>
typedef struct params_userdef {
	object		*pb_tree;	// pointeur sur le 1er objet de l'arbre
	unsigned short	pb_objc;	// index de l'objet concern&eacute;
	unsigned short	pb_prevstate;	// ancien ob_state de l'objet a dessin&eacute;
	unsigned short	pb_currstate;	// nouvel ob_state de l'objet a dessin&eacute;
	unsigned short	pb_x;		// coordonn‚e ‚cran en X...
	unsigned short	pb_y;		// ...Y...
	unsigned short	pb_w;		// ...largeur...
	unsigned short	pb_h;		// ...et hauteur
	unsigned short	pb_xc;		// Rectangle...
	unsigned short	pb_yc;		// ...utilis&eacute;...
	unsigned short	pb_wc;		// ...pour le...
	unsigned short	pb_hc;		// ...clipping
} params_block;</pre></font><br><br>

A la sortie de votre fonction, vous devez retourner un masque
de bit repr&eacute;sentant ceux dont vous d&eacute;sirer que
l'AES dessine (exemple : si le bit DISABLED positionn&eacute;, l'AES
rajoutera une trame par dessus l'objet).<br>

<br>
<A HREF="../toc.htm">Retour &agrave; l'index</A> <A HREF="gicon.htm">G_ICON et G_CICON</A>

</body>
</html>