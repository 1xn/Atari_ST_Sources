'
' funktion zur paûworteingabe
'
' 06.06.1992  Lars van Straelen und Sandro Lucifora  fÅr  TOS
'
PRINT @passwort(20,20,3,"TOS","X")
'
FUNCTION passwort(x%,y%,try%,wort$,zeichen$)
  '
  ' x%       -> x-position der eingabe in pixel
  ' y%       -> y-position der eingabe in pixel
  ' try%     -> maximale anzahl der versuche
  ' wort$    -> das eigentliche passwort
  ' zeichen$ -> darzustellende zeichen statt des buchstaben
  '
  LOCAL z%,ein$
  FOR z%=1 TO try%
    DO
      ein$=ein$+CHR$(INP(2))                    ! nÑchster tastendruck zur eingabe addieren
      EXIT IF ASC(RIGHT$(ein$))=13              ! wenn RETURN dann raus
      TEXT x%,y%,STRING$(LEN(ein$),zeichen$)    ! "pseudozeichen" darstellen
      IF ein$=wort$                             ! eingabe mit dem passwort vergleichen
        RETURN TRUE                             ! dann mit TRUE zurÅck
      ENDIF
    LOOP
    TEXT x%,y%,STRING$(PRED(LEN(ein$)),STRING$(LEN(zeichen$),32)) ! eingabe nicht richtig, dann zeichen lîschen und neu
    CLR ein$                                    ! ein$ lîschen
  NEXT z%
  RETURN FALSE                                  ! wenn zu oft falsch dann mit FALSE zurÅck
ENDFUNC
