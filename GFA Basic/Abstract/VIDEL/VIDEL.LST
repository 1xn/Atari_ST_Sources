RESERVE 50000
OPEN "o",#1,"videl.inf"
p%=XBIOS(2)
l%=XBIOS(3)
r%=XBIOS(4)
s%=MALLOC(800000)
~XBIOS(5,L:s%,L:s%,W:0)
get_infos("ST Basse resolution...")
~XBIOS(5,L:s%,L:s%,W:1)
get_infos("ST Moyenne resolution...")
~XBIOS(5,L:s%,L:s%,W:2)
get_infos("ST Haute resolution...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H1)
get_infos("320*200 4 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H2)
get_infos("320*200 16 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H3)
get_infos("320*200 256 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H4)
get_infos("320*200 True Color...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H8)
get_infos("640*200 2 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H9)
get_infos("640*200 4 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&HA)
get_infos("640*200 16 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&HB)
get_infos("640*200 256 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&HC)
get_infos("640*200 True Color...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H4A)
get_infos("640*200 Overscan 16 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H4B)
get_infos("640*200 Overscan 256 couleurs...")
~XBIOS(5,L:s%,L:s%,W:3,W:&H14C)
get_infos("640*480 Overscan Entrelace True-Color")
~XBIOS(5,L:l%,L:p%,W:r%)
CLOSE #1
~MFREE(s%)
RESERVE
PROCEDURE get_infos(inf$)
  ~XBIOS(37)
  ~XBIOS(37)
  PRINT #1;STRING$(LEN(inf$)+4,"*")
  PRINT #1;"* ";inf$;" *"
  PRINT #1;STRING$(LEN(inf$)+4,"*")
  PRINT #1
  PRINT #1;"Rez ST : ";PEEK(&HFFFF8260)
  PRINT #1;"Synchro ST : ";PEEK(&HFFFF820A)
  PRINT #1;"Offset to next line : ";DPEEK(&HFFFF820E)
  PRINT #1;"Width of scanline (words) : ";DPEEK(&HFFFF8210)
  PRINT #1;"Rez Falcon : ";DPEEK(&HFFFF8266)
  PRINT #1;"Start of Line : ";DPEEK(&HFFFF8286)
  PRINT #1;"End of Line : ";DPEEK(&HFFFF8284)
  PRINT #1;"Left overscan : ";DPEEK(&HFFFF8288)
  PRINT #1;"Right overscan : ";DPEEK(&HFFFF828A)
  PRINT #1;"Start of Image : ";DPEEK(&HFFFF82A6)
  PRINT #1;"End of Image : ";DPEEK(&HFFFF82A4)
  PRINT #1;"Top overscan : ";DPEEK(&HFFFF82A8)
  PRINT #1;"Bottom overscan : ";DPEEK(&HFFFF82AA)
  PRINT #1;"Unknown : ";DPEEK(&HFFFF82C0)
  PRINT #1;"Screen size : ";DPEEK(&HFFFF82C2)
  PRINT #1;"HTT SYNCHRO : ";DPEEK(&HFFFF8282)
  PRINT #1;"HSS SYNCHRO : ";DPEEK(&HFFFF828C)
  PRINT #1;"HFS : ";DPEEK(&HFFFF828E)
  PRINT #1;"HEE : ";DPEEK(&HFFFF8290)
  PRINT #1;"VFT SYNCHRO : ";DPEEK(&HFFFF82A2)
  PRINT #1;"VSS SYNCHRO : ";DPEEK(&HFFFF82AC)
  PRINT #1
RETURN
